<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dialecte ‚Äì Kabyle</title>
  <link rel="stylesheet" href="styles/style.css" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
</head>
<body>
  <button class="burger-menu-btn" aria-label="Menu">‚ò∞</button>
  <div class="burger-menu-bg"></div>
  <nav class="burger-menu">
    <a href="index.html">Accueil</a>
    <a href="quiz.html">Quiz</a>
    <a href="review.html">R√©viser</a>
    <a href="progres.html">Progr√®s</a>
    <a href="login.html">Connexion</a>
  </nav>
  <nav>
    <div class="logo">Dialecte.</div>
    <div class="nav-links">
      <a href="index.html">Accueil</a>
      <a href="quiz.html">Quiz</a>
      <a href="review.html">R√©viser</a>
      <a href="progres.html">Progr√®s</a>
      <a href="discovery.html">D√©couvrir</a>
    </div>
    <div class="nav-actions">
      <a href="login.html" class="btn btn-purple">Se connecter</a>
      <a href="signup.html" class="btn btn-yellow">S'inscrire</a>
    </div>
  </nav>
  <nav class="mobile-tabbar">
    <a href="index.html"><span class="emoji">üè†</span><span>Accueil</span></a>
    <a href="quiz.html"><span class="emoji">‚ùì</span><span>Quiz</span></a>
    <a href="review.html"><span class="emoji">üîÅ</span><span>R√©viser</span></a>
    <a href="progres.html"><span class="emoji">üìà</span><span>Progr√®s</span></a>
  </nav>

  <main>
    <section class="main-card" style="max-width:700px;">
      <h1>Apprends le kabyle simplement, √† ton rythme</h1>
      <p class="subtitle" style="font-size:1.18rem; margin-bottom:1.5em;">D√©couvre, r√©vise et ma√Ætrise le vocabulaire kabyle gr√¢ce √† la m√©thode SM-2.</p>
      <p style="color:var(--text-light); font-size:1.13rem; margin-bottom:2.2em;">
        <b>Dialecte</b> t'accompagne pour apprendre le kabyle, que tu sois d√©butant ou que tu veuilles raviver tes connaissances. <br>
        Profite d'exercices interactifs, d'un suivi de tes progr√®s, et d'une m√©thode efficace pour m√©moriser durablement.<br><br>
        <b>Commence d√®s maintenant ton voyage linguistique&nbsp;!</b>
      </p>
      <div class="cta-row" style="margin-bottom:2.2em; display:flex; justify-content:center; gap:1.2em; flex-wrap:wrap;">
        <a href="review.html" class="btn btn-primary">Commencer</a>
        <a href="discovery.html" class="btn btn-outline">D√©couvrir la m√©thode</a>
      </div>
      <div class="features-row" style="display:flex; justify-content:center; gap:2em; flex-wrap:wrap;">
        <div class="feature"><span class="emoji">üìö</span><br>M√©thode<br>progressive</div>
        <div class="feature"><span class="emoji">üß†</span><br>Exercices<br>interactifs</div>
        <div class="feature"><span class="emoji">üîä</span><br>Audio<br>natif</div>
        <div class="feature"><span class="emoji">üìà</span><br>Suivi de tes<br>progr√®s</div>
      </div>
    </section>
    <section class="card" style="max-width:700px;">
      <h2>Lexique th√©matique</h2>
      <div class="lexique-controls">
        <label for="theme-select">Filtrer par th√®me :</label>
        <select id="theme-select">
          <option value="all">Tous les th√®mes</option>
        </select>
      </div>
      <div id="lexique-content">Chargement du lexique‚Ä¶</div>
    </section>
  </main>

  <footer>
    ¬© 2025 Dialecte
  </footer>

  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="ui.js" type="module"></script>
  
  <!-- Script pour le menu burger mobile -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const burgerBtn = document.querySelector('.burger-menu-btn');
      const burgerMenu = document.querySelector('.burger-menu');
      const burgerBg = document.querySelector('.burger-menu-bg');
      
      // Ouvrir le menu
      burgerBtn.addEventListener('click', function() {
        burgerMenu.classList.add('open');
        burgerBg.classList.add('open');
      });
      
      // Fermer le menu en cliquant sur le fond
      burgerBg.addEventListener('click', function() {
        burgerMenu.classList.remove('open');
        burgerBg.classList.remove('open');
      });
      
      // Fermer le menu en cliquant sur un lien
      const burgerLinks = burgerMenu.querySelectorAll('a');
      burgerLinks.forEach(link => {
        link.addEventListener('click', function() {
          burgerMenu.classList.remove('open');
          burgerBg.classList.remove('open');
        });
      });
    });
  </script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const path = window.location.pathname.split('/').pop();
      document.querySelectorAll('.mobile-tabbar a').forEach(link => {
        if (link.getAttribute('href') === path) {
          link.classList.add('active');
        }
      });
      document.querySelectorAll('.burger-menu a').forEach(link => {
        if (link.getAttribute('href') === path) {
          link.classList.add('active');
        }
      });
    });

    // G√©n√©ration dynamique du lexique √† partir de data/data3.csv
    const THEMES = [
      { nom: 'Verbes', mots: ['√™tre','venir','dire','voir','faire','manger','boire','prendre','aller','accompagner','jurer','tisser','r√©aliser','armer'] },
      { nom: 'Nature', mots: ['eau','arbre','ciel','soleil','lune','terre','vent','montagne','herbe','mer','foin','boue','baie','oasis'] },
      { nom: 'Corps humain', mots: ['main','t√™te','jambe','nez','bouche','≈ìil','oreille','pied','dent','dos','cou','peau','sein','sang'] },
      { nom: 'Animaux', mots: ['chat','bouc','hy√®ne','√¢ne','chien','oiseau','poisson','vache','mouton','cheval'] },
      { nom: 'Nourriture', mots: ['pain','lait','fromage','viande','fruit','l√©gume','miel','bi√®re','melon','noix'] },
      { nom: 'Maison', mots: ['maison','porte','fen√™tre','chambre','lit','cuisine','table','chaise','cl√©'] },
      { nom: 'V√™tements', mots: ['chemise','pantalon','robe','manteau','chapeau','chaussure','tablier'] },
      { nom: 'Couleurs', mots: ['bleu','blanc','noir','rouge','vert','jaune','gris'] },
      { nom: 'Famille', mots: ['p√®re','m√®re','fr√®re','soeur','fils','fille','oncle','tante','grand-m√®re','grand-p√®re'] },
      { nom: 'Objets du quotidien', mots: ['table','chaise','porte','fen√™tre','lit','bol','cuir','bouteille','cl√©'] }
    ];
    function detectTheme(fr) {
      for (const t of THEMES) {
        for (const mot of t.mots) {
          if (fr.toLowerCase().includes(mot)) return t.nom;
        }
      }
      return 'Autres';
    }
    function renderLexique(data) {
      const themes = {};
      data.forEach(row => {
        const fr = row['Fran√ßais']?.trim();
        const kab = row['Kabyle']?.trim();
        if (!fr || !kab) return;
        const theme = detectTheme(fr);
        if (!themes[theme]) themes[theme] = [];
        // S√©parer les traductions multiples
        const traductions = kab.split('/').map(t => t.trim()).filter(t => t);
        themes[theme].push({ fr, kab });
      });
      // Remplir dynamiquement le menu d√©roulant avec les th√®mes d√©tect√©s
      const themeSelect = document.getElementById('theme-select');
      themeSelect.innerHTML = '<option value="all">Tous les th√®mes</option>';
      Object.keys(themes).forEach(theme => {
        const option = document.createElement('option');
        option.value = theme;
        option.textContent = theme;
        themeSelect.appendChild(option);
      });
      // Affichage filtr√©
      function displayLexique(selectedTheme = 'all') {
        let html = '';
        Object.keys(themes).forEach(theme => {
          if (selectedTheme === 'all' || theme === selectedTheme) {
            html += `<div class='lexique-theme'><h3>${theme}</h3><ul class='lexique-list'>`;
            themes[theme].forEach(({fr, kab}) => {
              html += `<li><span class='fr'>${fr}</span> <span class='kab'>${kab}</span></li>`;
            });
            html += '</ul></div>';
          }
        });
        document.getElementById('lexique-content').innerHTML = html;
      }
      displayLexique();
      themeSelect.addEventListener('change', (e) => {
        displayLexique(e.target.value);
      });
    }
    Papa.parse('data/data3.csv', {
      download: true,
      header: true,
      skipEmptyLines: true,
      delimiter: ';',
      complete: ({ data }) => renderLexique(data)
    });
  </script>
</body>
</html> 