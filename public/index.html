<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dialect ‚Äì Accueil</title>
  <link rel="stylesheet" href="styles/style.css?v=4" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="icon" type="image/png" href="images/logo.png" />
  <style>
    .dialect-dropdown {
      margin: 2.5em auto 1.5em auto;
      max-width: 350px;
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      padding: 2em 1.5em 1.5em 1.5em;
      text-align: center;
    }

    .dialect-dropdown label {
      font-size: 1.05rem;
      color: var(--text-secondary, rgba(241, 240, 255, 0.6));
      margin-bottom: 0.7em;
      display: block;
      font-family: 'Outfit', sans-serif;
    }

    .dialect-list {
      list-style: none;
      padding: 0;
      margin: 0.5em 0 0 0;
    }

    .dialect-list li {
      font-family: 'Outfit', sans-serif;
      font-size: 1.1rem;
      font-weight: 600;
      padding: 0.75em 0.7em;
      border-radius: 12px;
      margin-bottom: 0.4em;
      transition: all 0.25s ease;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.04);
      color: var(--text-secondary, rgba(241, 240, 255, 0.6));
      border: 1px solid transparent;
    }

    .dialect-list li:not(.active) {
      filter: blur(1.5px) grayscale(0.5);
      color: rgba(241, 240, 255, 0.3);
      cursor: not-allowed;
      position: relative;
    }

    .dialect-list li:not(.active)::after {
      content: 'Bient√¥t';
      position: absolute;
      right: 1em;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.85em;
      color: var(--accent, #38D9A9);
      opacity: 0.6;
      filter: none;
    }

    .dialect-list li.active {
      background: linear-gradient(135deg, var(--primary, #7C5CFC), #9B7BFF);
      color: #fff;
      filter: none;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(124, 92, 252, 0.3);
      border-color: transparent;
    }

    .dialect-list li.active:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 24px rgba(124, 92, 252, 0.4);
    }
  </style>
</head>

<body>
  <button class="mobile-menu-btn">‚ò∞</button>
  <div class="mobile-menu-bg"></div>
  <nav class="mobile-menu">
    <a href="index.html">üè† Accueil</a>
    <a href="review.html">üß† Apprendre</a>
    <a href="progres.html">üìà Progr√®s</a>
    <a href="login.html">üîê Connexion</a>
  </nav>
  <nav>
    <a href="index.html" class="logo">Dialect</a>
    <div class="nav-links">
      <a href="index.html" class="active">Accueil</a>
      <a href="review.html">Apprendre</a>
      <a href="progres.html">Progr√®s</a>
      <a href="login.html">Connexion</a>
    </div>
    <div class="nav-actions">
      <a href="login.html" class="btn btn-purple">Se connecter</a>
      <a href="signup.html" class="btn btn-yellow">S'inscrire</a>
    </div>
  </nav>

  <main>
    <section class="main-card" style="max-width:700px;">
      <h1>Reconnecte-toi √† ta culture avec <span style="color:#7B61FF;">Dialect.</span></h1>
      <p class="subtitle" style="font-size:1.25rem; margin-bottom:1.5em;">D√©couvre, apprends et partage les richesses de
        ta langue d'origine.</p>
      <p style="color:var(--text-light); font-size:1.13rem; margin-bottom:2.2em;">
        <b>Dialect</b> est une application qui te permet de te reconnecter √† ta culture √† travers l'apprentissage de ton
        dialecte. <br>

        Notre mission&nbsp;: rendre chaque langue accessible, vivante et fi√®rement partag√©e.
      </p>
      <div class="dialect-dropdown">
        <label for="dialect-select">Choisis ton dialecte&nbsp;:</label>
        <ul class="dialect-list">
          <li class="active" onclick="window.location.href='kabyle.html'">Kabyle</li>
          <li>Peul</li>
          <li>Wolof</li>
          <li>Darija</li>
          <li>Chaoui</li>
          <li>Tamazight</li>
          <li>Tachelhit</li>
          <li>Chleuh</li>
        </ul>
      </div>
      <p style="color:#bfa100; font-size:1.05rem; margin-top:1.5em;">D'autres dialectes arrivent tr√®s bient√¥t&nbsp;!</p>
    </section>

  </main>

  <footer>
    ¬© 2025 Dialect
  </footer>


  <script src="ui.js" type="module"></script>

  <!-- Script pour le menu mobile -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      console.log('=== D√âBOGAGE MENU MOBILE ===');

      const menuBtn = document.querySelector('.mobile-menu-btn');
      const mobileMenu = document.querySelector('.mobile-menu');
      const mobileMenuBg = document.querySelector('.mobile-menu-bg');

      console.log('√âl√©ments trouv√©s:', {
        menuBtn: menuBtn,
        mobileMenu: mobileMenu,
        mobileMenuBg: mobileMenuBg
      });

      if (!menuBtn) {
        console.error('‚ùå Bouton menu non trouv√© !');
        return;
      }
      if (!mobileMenu) {
        console.error('‚ùå Menu mobile non trouv√© !');
        return;
      }
      if (!mobileMenuBg) {
        console.error('‚ùå Fond menu non trouv√© !');
        return;
      }

      console.log('‚úÖ Tous les √©l√©ments trouv√©s');

      // Ouvrir le menu
      menuBtn.addEventListener('click', function (e) {
        console.log('üñ±Ô∏è Clic sur bouton menu d√©tect√©');
        e.preventDefault();
        e.stopPropagation();

        console.log('üìã Classes avant:', {
          menu: mobileMenu.className,
          bg: mobileMenuBg.className
        });

        mobileMenu.classList.add('open');
        mobileMenuBg.classList.add('open');

        console.log('üìã Classes apr√®s:', {
          menu: mobileMenu.className,
          bg: mobileMenuBg.className
        });

        console.log('‚úÖ Menu ouvert');
      });

      // Fermer le menu en cliquant sur le fond
      mobileMenuBg.addEventListener('click', function () {
        console.log('üñ±Ô∏è Clic sur fond d√©tect√©');
        mobileMenu.classList.remove('open');
        mobileMenuBg.classList.remove('open');
        console.log('‚úÖ Menu ferm√©');
      });

      // Fermer le menu en cliquant sur un lien
      const menuLinks = mobileMenu.querySelectorAll('a');
      menuLinks.forEach(link => {
        link.addEventListener('click', function () {
          console.log('üñ±Ô∏è Clic sur lien menu d√©tect√©');
          mobileMenu.classList.remove('open');
          mobileMenuBg.classList.remove('open');
        });
      });

      console.log('‚úÖ Script menu mobile initialis√©');
    });
  </script>

  <script type="module">
    console.log('üöÄ Script principal charg√© !');
    import { auth, logout, initAuthListener } from "./firebase.js";
    import { renderNavAuthButtons } from "./ui.js";

    initAuthListener(user => {
      renderNavAuthButtons(user);
    });

    // Initialiser le gestionnaire de cartes et mettre √† jour le compteur (optionnel)
    async function updateDueCount() {
      try {
        await cardManager.loadCards();
        const stats = cardManager.getStats();
        const dueCountElement = document.getElementById('due-count');
        if (dueCountElement) {
          dueCountElement.textContent = stats.due;
        }
      } catch (error) {
        console.log('‚ÑπÔ∏è Compteur de cartes non disponible sur cette page');
      }
    }

    // Mettre √† jour le compteur au chargement (si possible)
    updateDueCount();


  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const path = window.location.pathname.split('/').pop();
      document.querySelectorAll('.mobile-tabbar a').forEach(link => {
        if (link.getAttribute('href') === path) {
          link.classList.add('active');
        }
      });
    });
  </script>
  <script>
    // Active link dans le menu burger
    document.addEventListener('DOMContentLoaded', function () {
      const path = window.location.pathname.split('/').pop();
      document.querySelectorAll('.burger-menu a').forEach(link => {
        if (link.getAttribute('href') === path) {
          link.classList.add('active');
        }
      });
    });
  </script>
</body>

</html>